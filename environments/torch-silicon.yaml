# ---------Install----------
# mamba create -f apple-silicon.yaml
# cd hazGAN
# mamba activate hazGAN;python -c "import hazGAN as haz;print(haz.__version__)"
# python helloworld_tensorflow.py --device GPU

# ---------Uninstall----------
# conda env remove -n hazGAN
# conda info --envs

# ---------References----------
# 1. Source: https://github.com/tcapelle/apple_m1_pro_python/tree/main
# 2. Metal compatibility: https://pypi.org/project/tensorflow-metal/
# 3. https://developer.apple.com/metal/tensorflow-plugin/

name: hazGANv0
channels:
  #- apple
    - conda-forge
    - pytorch-nightly
dependencies:
    - python
    - pip
    - dask
    - tqdm
    - ipykernel
    - notebook
    - pyyaml
    - h5py
    - pandas
    - geopandas
    - fiona
    - xarray
    - xagg
    - rioxarray
    # - gdal==3.6.3 # conflicts with jpeg so choose...
    - hdf5
    - netcdf4
    - shapely>=2.0
    - scipy
    - scikit-learn
    - matplotlib
    - cartopy # for basemaps
    - seaborn
    - libpng # new
    - jpeg   # new
    - pyarrow>=10.0.1
    - pytorch-nightly::pytorch
    - pytorch-nightly::torchaudio
    - pytorch-nightly::torchvision
    - pip:
        # - rpy2 # optional
        - environs
        - bottleneck
        - keras>=3.0.0
        - wandb==0.16.6 # stable May 2024
        - pytest
        # - -e ..
        # - -e /Users/alison/Documents/DPhil/utilities # needs update
